# Task 1.2: Configure Unbound DNS Settings

**Objective**: Configure Unbound with security and privacy features.

**Steps**:
1. In OPNsense: **Services → Unbound DNS → General**
2. Configure:
   - **Network Interfaces**: Select LAN interface
   - **Enable DNSSEC**: ✅ (check this)
   - **Enable DNS over TLS**: ✅ (optional, recommended)
   - **Enable Unbound Control**: ✅ (for management)
3. Click **Save**
4. Click **Apply Changes**

5. Configure DNS over TLS Custom Forwarding:
   - Navigate to: **Services → Unbound DNS → DNS over TLS** (or find the DNS over TLS tab)
   - Ensure **"Use system nameservers"** is **unchecked**
   - Ensure **"Custom Forwarding"** is **selected**
   - Click **Add** to create first entry (Cloudflare Primary):
     - **Enabled**: ✅ Check this
     - **Domain**: (leave empty, or `cloudflare-dns.com` if required)
     - **Server IP**: `1.1.1.1`
     - **Server Port**: `853`
     - **Forward first**: (leave unchecked)
     - **Verify CN**: `cloudflare-dns.com` (text field - verifies certificate)
     - **Description**: `Cloudflare DNS (Primary)`
   - Click **Save**
   
   - Click **Add** to create second entry (Cloudflare Secondary):
     - **Enabled**: ✅ Check this
     - **Domain**: (leave empty, or `cloudflare-dns.com` if required)
     - **Server IP**: `1.0.0.1`
     - **Server Port**: `853`
     - **Forward first**: (leave unchecked)
     - **Verify CN**: `cloudflare-dns.com` (text field - verifies certificate)
     - **Description**: `Cloudflare DNS (Secondary)`
   - Click **Save**
6. Click **Apply Changes**

**Test**:
```bash
# Test DNS resolution
dig @192.168.1.1 google.com
# Should work with DNSSEC validation
```

**Expected Result**: DNS resolution works with DNSSEC enabled.
